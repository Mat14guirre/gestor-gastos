<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestor de Gastos Mensual</title>

  <link rel="stylesheet" href="/estilo.css" />

  <!-- Firebase UMD SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <h1>üí∞ Gestor de Gastos Mensual</h1>

  <div class="auth-controls">
    <p id="user-info">No est√°s logueado</p>
    <button id="login-btn">Iniciar sesi√≥n con Google</button>
    <button id="logout-btn" style="display:none;">Cerrar sesi√≥n</button>
  </div>

  <div class="resumen">
    <h2>Resumen</h2>
    <label>Ingreso mensual: <input type="number" id="ingreso" value="1850000" /></label>
    <label>Meta de ahorro: <input type="number" id="meta" value="300000" /></label>
    <p><strong>Total Gastado:</strong> $<span id="totalGasto">0</span></p>
    <p><strong>Ahorro Real:</strong> $<span id="ahorroReal">0</span></p>
    <p><strong>Meta Cumplida:</strong> <span id="cumplida">‚ùå</span></p>
    <button id="reiniciar-btn">üßπ Reiniciar todo (mes nuevo)</button>
  </div>

  <div class="formulario">
    <h2>Agregar Gasto</h2>
    <label>Fecha: <input type="date" id="fecha" /></label>
    <label>Categor√≠a:
      <select id="categoria">
        <option>Comida</option>
        <option>Transporte</option>
        <option>Entretenimiento</option>
        <option>Salud</option>
        <option>Servicios</option>
        <option>Hogar</option>
        <option>Ahorro</option>
        <option>Otros</option>
      </select>
    </label>
    <label>Monto: <input type="number" id="monto" /></label>
    <label>M√©todo de pago: <input type="text" id="metodo" /></label>
    <label>Observaciones: <textarea id="observaciones"></textarea></label>
    <button id="agregar-btn">Agregar</button>
  </div>

  <div class="tabla">
    <h2>Gastos</h2>
    <table id="tablaGastos">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Categor√≠a</th>
          <th>Monto</th>
          <th>M√©todo</th>
          <th>Obs.</th>
          <th>Usuario</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="grafico">
    <h2>Distribuci√≥n por Categor√≠a</h2>
    <canvas id="graficoGastos"></canvas>
  </div>

  <!-- Scripts -->
  <script src="./login.js"></script>
  <script src="./app.js"></script>
</body>
</html>